@model Core.DTOs.User.EditProfileDto

@{
    ViewData["Title"] = "Edit Profile";
}

<div class="max-w-3xl mx-auto">
    <div class="liquid-glass rounded-2xl p-8">
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-slate-100">Edit Profile</h1>
            <p class="text-slate-400 mt-2">Update your personal information</p>
        </div>

        <form asp-action="EditProfile" method="post" class="space-y-6">
            <div asp-validation-summary="ModelOnly" class="p-4 rounded-lg bg-red-500/20 border border-red-500/50 text-red-300"></div>
            @Html.HiddenFor(dto => dto.LoginWithGoogle)
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- First Name -->
                <div>
                    <label asp-for="FirstName" class="block text-sm font-medium text-slate-300 mb-2"></label>
                    <input asp-for="FirstName"
                           class="w-full bg-slate-800/50 border border-slate-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:outline-none transition-shadow text-white placeholder-slate-500" />
                    <span asp-validation-for="FirstName" class="text-red-400 text-sm mt-1 block"></span>
                </div>

                <!-- Last Name -->
                <div>
                    <label asp-for="LastName" class="block text-sm font-medium text-slate-300 mb-2"></label>
                    <input asp-for="LastName"
                           class="w-full bg-slate-800/50 border border-slate-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:outline-none transition-shadow text-white placeholder-slate-500" />
                    <span asp-validation-for="LastName" class="text-red-400 text-sm mt-1 block"></span>
                </div>
            </div>

            <!-- Username -->
            <div>
                <label asp-for="UserName" class="block text-sm font-medium text-slate-300 mb-2"></label>
                <input asp-for="UserName"
                       class="w-full bg-slate-800/50 border border-slate-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:outline-none transition-shadow text-white placeholder-slate-500" />
                <span asp-validation-for="UserName" class="text-red-400 text-sm mt-1 block"></span>
            </div>

            <!-- Email -->
            <div>
                <label asp-for="Email" class="block text-sm font-medium text-slate-300 mb-2"></label>
                @if (!Model.LoginWithGoogle)
                {
                    <input asp-for="Email" type="email"
                           class="w-full bg-slate-800/50 border border-slate-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:outline-none transition-shadow text-white placeholder-slate-500" />
                    <span asp-validation-for="Email" class="text-red-400 text-sm mt-1 block"></span>
                }
                else
                {
                    @Html.HiddenFor(dto => dto.Email)
                    <input asp-for="Email" type="email" disabled
                           class="w-full bg-slate-800/30 border border-slate-700/50 rounded-lg p-3 text-slate-500 cursor-not-allowed opacity-60" />
                    <span asp-validation-for="Email" class="text-red-400 text-sm mt-1 block"></span>
                    <p class="text-slate-500 text-xs mt-1 italic">
                        <i class="fas fa-lock mr-1"></i>Email cannot be changed
                    </p>
                }
            </div>


            <!-- Phone Number -->
            <div>
                <label asp-for="PhoneNumber" class="block text-sm font-medium text-slate-300 mb-2"></label>
                <input asp-for="PhoneNumber" type="tel"
                       class="w-full bg-slate-800/50 border border-slate-700 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:outline-none transition-shadow text-white placeholder-slate-500" />
                <span asp-validation-for="PhoneNumber" class="text-red-400 text-sm mt-1 block"></span>
            </div>

            <!-- Buttons -->
            <div class="flex items-center justify-between pt-6 border-t border-slate-700/50">
                <a asp-action="Index" asp-controller="Dashboard"
                   class="px-6 py-3 rounded-lg bg-slate-700/50 hover:bg-slate-700 text-white font-medium transition-colors">
                    Cancel
                </a>
                <button type="submit"
                        class="px-6 py-3 rounded-lg bg-purple-500 hover:bg-purple-600 text-white font-bold transition-transform hover:scale-105">
                    <i class="fas fa-save mr-2"></i>
                    Save Changes
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
